version: "3.9"
services: 
  web: 
    restart: always
    image: "geekymon2/carfinder"
    build: .
    #container runs on port 5000
    #container exposing port 80
    ports:
      - "${APP_PORT:-1403}:5000"
    depends_on: 
      - db
  db:
    hostname: "db"
    restart: always
    image: "mcr.microsoft.com/mssql/server"
    environment: 
      ACCEPT_EULA: "Y"
      SA_PASSWORD: "${DB_PASSWORD}"
    #db container keeps running on port 1433
    #exposing port 1403 to host db connection
    ports:
      - "${DB_PORT:-1403}:1433"